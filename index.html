<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lapis-Clicker</title>
    <link rel="icon" href="LapisLazuli.png"> 
    <link rel="stylesheet" href="style2.css">
</head>
<script>
    
    function myFunction() {
        var lapis = 0;
        var wahrscheinlichkeit = 0;
        var wahrDouble= 0;
        document.getElementById("pickaxepreis").innerHTML= "100 Lapis";
        document.getElementById("dripperpreis").innerHTML= "500 Lapis";
        document.getElementById("drillpreis").innerHTML= "50k Lapis";
        document.getElementById("einfachbooststufe").innerHTML= 1;
        document.getElementById("einfachboostpreis").innerHTML= 50;
        document.getElementById("mehrbooststufe").innerHTML= 1;
        document.getElementById("mehrboostpreis").innerHTML= "1m";
        forgepickaxe.style.display="none";  
        
        
    document.getElementById("lapis").innerHTML = lapis;
    }
    
</script>
<body onload="myFunction()">
    <div id="top">
        <div id="navigation">
            <a href=# onclick="showTool()">Click Tools</a>
            <a href=# onclick="showForge()">Forge</a>
            <a href=# onclick="showLapis()">Lapis</a>
            <a href=# onclick="showUpgrades()">Upgrades</a>
            <a href=# onclick="showShop()">Shop</a>
        </div>
    </div>
    
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<div id="mainPart">
<div id="Lapis">
<div id="image">
  <div id="anzeigeNormalesLapis">
    <a href=# onclick="doSomething()"><img src="LapisLazuli.png" alt="logo"></a>
  </div>

  <div id="anzeigeGoldLapis", style="display: none;">
    <a href=# onclick="doSomethingGold()"><img src="LapisGold.png" alt="logo"></a>
  </div>


    <h1>Dein Lapis: <span id="lapis"></span></h1>
    <button onclick="resetLapis()">reset</button>

<div class="kaufen">
    <button onclick="erstelleBoost()">boost</button>
</div>
</div>
</div>
</div>
</body>    
<div id="menu">
<div id="toolMenu", style="display: none;">
    <div class="tooltip">
    <ul>Pickaxe 
    <span class="tooltiptext">-Generiere pro click 10 Lapis</span>
    </div>
    <a href=# onclick="choosePickaxe()"><span id="pickaxepreis"></span></a><br></ul>

    <div class="tooltip">
        <ul>Dripper 
        <span class="tooltiptext">-Generiere pro click 15 Lapis<br>-5% chance auf Gold Lapis</span>
    </div>
        <a href=# onclick="chooseDripper()"><span id="dripperpreis"></span></a><br></ul>

        <div class="tooltip">
          <ul>Lapis Drill 
          <span class="tooltiptext">+Generiere pro click 15 Lapis<br>+5% chance auf Gold Lapis</span>
      </div>
          <a href=# onclick="chooseDrill()"><span id="drillpreis"></span></a><br></ul>
    
    <ul>Piggy Axe</ul>
    <ul>Chrom Pickaxe</ul>
  </div>
  <div id="forge", style="display: none;">
    <div id="forgepickaxe">
      <ul><a href=# onclick="uselapisbuffpickaxe()"> Lapis Buff (6<span id="pickaxelapisbuff"></span>/10) </a>
        <a href=# onclick="usetoolbuffpickaxe()"> Tool Buff (<span id="pickaxetoolbuff"></span>/5) </a>
        <a href=# onclick="kaufecbox()"> Luck Buff (7<span id="pickaxeluckbuff"></span>/10) </a><br></ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
  </div>
  </div>
  <div id="upgradeMenu", style="display: none;">
    <ul>+1 Boost <a href=# onclick="erstelleBoost()"><span id="einfachboostpreis"></span> Lapis</a> (stufe <span id="einfachbooststufe"></span>)<br></ul>
    <ul>+1 Multiplier <a href=# onclick="erstelleMulti()"><span id="mehrboostpreis"></span> Lapis</a> (stufe <span id="mehrbooststufe"></span>)<br></ul>
    <ul>+1 Luck <a href=# onclick="erstelleMulti()"><span id="mehrboostpreis"></span>  1000 Lapis</a> (stufe <span id="mehrbooststufe"></span>)<br></ul>
    <ul>+1 Rank <a href=# onclick="erstelleMulti()"><span id="mehrboostpreis"></span> Lapis</a> (stufe <span id="mehrbooststufe"></span>)<br></ul>
    <ul>+1 Inteligence <a href=# onclick="erstelleMulti()"><span id="mehrboostpreis"></span> Lapis</a> (stufe <span id="mehrbooststufe"></span>)<br></ul>

  </div>
  <div id="shopMenu", style="display: none;">
    <div id="shopuebersicht">
    <ul>Lootbox <a href=# onclick="kaufecbox()">100 Gold</a> (common)<br></ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
  </div>
  <div id="openbox">
    <h1><span id="boxinhalt"></span></h1>
  </div>
  </div>
</div>
<div id="footer">
  
  <button onclick="changeSort()" id="footerbtn" >

    Gold: <span id="anzeigeShort"></span>

  </button>
</div>
   

    <script>

      function changeShort(){
        var zaehlShort = 0;
        
        var btnfoot = document.getElementById("footerbtn");
        
        btnfoot.style.backgroundColor="red";
        if(zaehlShort==0){
          zaehlShort=1;
          btnfoot.style.backgroundColor='red';
        }
        if(zaehlShort==1){
          zaehlShort=2;
        }
        if(zaehlShort==2){
          zaehlShort=0;
        }
      }
      //version 0.2
        var boost = 1;
        let lapis = 0;
        var lapisGold = 0;
        var doppelPreis = 100;
        var pickaxe = "hand";
        var goldChance = 0;
        var lapisString = "null";
        var zwischenSpeicher= 0;
        var pickaxestatus = false;
        var dripperstatus = false;
        var drillstatus = false;
        var toolboost = 1;
        var kaufboost = 0;
        var multiboost = 1;
        var singleboost= 1;
        var multiboostpreis=1000000;
        var zahlString="null";
        var boxresult="null";
        var randomzahl=0;

        var stashtoolbuff =0;
        var stashlapisbuff =0;
        var stashluckbuff =0;
        
        var pickaxetoolbuff =0;
        var pickaxelapisbuff =0;
        var pickaxeluckbuff =0;

        var drippertoolbuff =0;
        var dripperlapisbuff =0;
        var dripperluckbuff =0;

        var drilltoolbuff =0;
        var drilllapisbuff =0;
        var drillluckbuff =0;

function usetoolbuffpickaxe(){
  if(stashtoolbuff>=1){
    pickaxetoolbuff=pickaxetoolbuff+1;
    stashtoolbuff=stashtoolbuff-1;
    document.getElementById("pickaxetoolbuff").innerHTML = pickaxetoolbuff;
  }
}

function uselapisbuffpickaxe(){
  if(stashtoolbuff>=1){
    pickaxelapisbuff=pickaxelapisbuff+1;
    stashlapisbuff=stashlapisbuff-1;
    document.getElementById("pickaxelapisbuff").innerHTML = pickaxelapisbuff;
  }
}

function berechneScore(){
  boost = (toolboost + kaufboost) * multiboost;
}

function berechneScorePickaxe(){
  toolboost=10*pickaxetoolbuff+5*pickaxelapisbuff+10;
}



         function showTool() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (tool.style.display === "none") {
    tool.style.display = "block";
    forge.style.display = "none";
    lapis.style.display = "none";
    upgrades.style.display = "none";
    shop.style.display = "none";
  } 
}

function showForge() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  var forgepickaxe = document.getElementById("forgepickaxe");
  if (forge.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "block";
    lapis.style.display = "none";
    upgrades.style.display = "none";
    shop.style.display = "none";
  }
  
  if(pickaxe=="pickaxe"){
    forgepickaxe.style.display="block";
  }else{
    forgepickaxe.style.display="none";
  }
}

function showLapis() {
  activTool();
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (lapis.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "none";
    lapis.style.display = "block";
    upgrades.style.display = "none";
    shop.style.display = "none";
    lapisUmwandeln();
  } 
}

function showUpgrades() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (upgrades.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "none";
    lapis.style.display = "none";
    upgrades.style.display = "block";
    shop.style.display = "none";
  } 
}

function showShop() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (shop.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "none";
    lapis.style.display = "none";
    upgrades.style.display = "none";
    shop.style.display = "block";
    
  }
  var lootbox = document.getElementById("openbox");
  lootbox.style.display="none"; 
}

    function doSomething(){
        berechneScore();
        lapis= lapis+boost;
        welchesLapis();
        lapisUmwandeln();
  
        
        
    }

    function doSomethingGold(){
        
        lapisGold= lapisGold+boost;
        var lapisAnzeige = document.getElementById("anzeigeNormalesLapis");
        var goldAnzeige = document.getElementById("anzeigeGoldLapis");
        lapisAnzeige.style.display="block";
        goldAnzeige.style.display="none";
        document.getElementById("anzeigeShort").innerHTML=lapisGold;
        welchesLapis();
  
        lapisUmwandeln();
        
    }


    function resetLapis(){
        lapis=0;
        document.getElementById("lapis").innerHTML = lapis;
    }


    function erstelleBoost(){
    var singelboostpreis=(singleboost)*50;
        if(lapis>=singelboostpreis){
            lapis=lapis-singelboostpreis;
            kaufboost=kaufboost+1;
            lapisUmwandeln();
            singleboost=singleboost+1;
            document.getElementById("einfachbooststufe").innerHTML= singleboost;
            document.getElementById("einfachboostpreis").innerHTML= zahlUmwandeln(singelboostpreis + 50);  
        }
    }

    function erstelleMulti(){
    
        if(lapis>=multiboostpreis){
            lapis=lapis-multiboostpreis;
            multiboost=multiboost+1;
            lapisUmwandeln();
            multiboostpreis=1000000*(Math.pow(10, multiboost-1)/2);
            document.getElementById("mehrbooststufe").innerHTML= multiboost;
            document.getElementById("mehrboostpreis").innerHTML= zahlUmwandeln(multiboostpreis);  
        }
    }

    function doubleBoost(){
        if(lapis>=doppelPreis){
            lapis=lapis-doppelPreis;
            boost=boost*2;
            doppelPreis=doppelPreis*3;
        }
        lapisUmwandeln();
        document.getElementById("doppelPreis").innerHTML = doppelPreis;
    }
    function choosePickaxe(){
      if(pickaxestatus==false){
        if(lapis>=100){
          if(pickaxe=="dripper"){
        }
        lapis=lapis-100;
        pickaxe="pickaxe";
        pickaxestatus=true;
        
        }
        }else{
          pickaxe="pickaxe";  
      }
      colorTool();
    }

        function chooseDripper(){
        if(dripperstatus==false){
        if(lapis>=500){
          lapis=lapis-500;
        pickaxe="dripper";
        dripperstatus=true;
        }
        }else{
          pickaxe="dripper";
          }
          colorTool()
        }    

        function chooseDrill(){
        if(drillstatus==false){
        if(lapis>=50000){
          lapis=lapis-50000;
        pickaxe="drill";
        drillstatus=true;
        }
        }else{
          pickaxe="drill";
          }
          colorTool()
        } 
      
    function colorTool(){
      if (pickaxe=="pickaxe"){
        pickaxepreis.style.backgroundColor="darkgreen";
        document.getElementById("pickaxepreis").innerHTML = "aktiv";
        if(dripperstatus==true){
          dripperpreis.style.backgroundColor="darkred";
          document.getElementById("dripperpreis").innerHTML = "inaktiv";
        }
        if(drillstatus==true){
          drillpreis.style.backgroundColor="darkred";
          document.getElementById("drillpreis").innerHTML = "inaktiv";
        }
      }
      if (pickaxe=="dripper"){
        dripperpreis.style.backgroundColor="darkgreen";
        document.getElementById("dripperpreis").innerHTML = "aktiv";
        if(pickaxestatus==true){
          pickaxepreis.style.backgroundColor="darkred";
          document.getElementById("pickaxepreis").innerHTML = "inaktiv";
        }
        if(drillstatus==true){
          drillpreis.style.backgroundColor="darkred";
          document.getElementById("drillpreis").innerHTML = "inaktiv";
        }
      }
      if (pickaxe=="drill"){
        drillpreis.style.backgroundColor="darkgreen";
        document.getElementById("drillpreis").innerHTML = "aktiv";
        if(pickaxestatus==true){
          pickaxepreis.style.backgroundColor="darkred";
          document.getElementById("pickaxepreis").innerHTML = "inaktiv";
        }
        if(dripperstatus==true){
          dripperpreis.style.backgroundColor="darkred";
          document.getElementById("dripperpreis").innerHTML = "inaktiv";
        }
      }
    }    

    
    function activTool(){
        if(pickaxe=="pickaxe"){
            berechneScorePickaxe();
            goldChance=0;
            
        }
        if(pickaxe=="dripper"){
            toolboost=15;
            goldChance=20; //100:20=5 deshalb 5%
        }
        if(pickaxe=="drill"){
            toolboost=1000;
            goldChance=0;
            
        }
        lapisUmwandeln();
    }
    function newFun(){
        lapis=100000
        lapisUmwandeln();
    }
    function startPickaxe(){
        pickaxe=start;
    }

    

    function welchesLapis(){
      var aktuellesLapis = "lapis";
      
      wahrDouble = Math.random()*100;
      wahrscheinlichkeit= Math.floor(wahrDouble);
      if(wahrscheinlichkeit % goldChance ===0){
        //set aktuellesLapis
        var lapisAnzeige = document.getElementById("anzeigeNormalesLapis");
        var goldAnzeige = document.getElementById("anzeigeGoldLapis");
        lapisAnzeige.style.display="none";
        goldAnzeige.style.display="block";
      }
    }

    function kaufecbox(){
      if(lapisGold>=100){
        lapisGold=lapisGold-100;
        document.getElementById("anzeigeShort").innerHTML=lapisGold;
        randomzahl=Math.floor(Math.random()*100);
        if(randomzahl < 10){
          boxresult="Tool Buff";
          stashtoolbuff=stashtoolbuff+1;
        }else{
          boxresult="1k Lapis";
          lapis=lapis+1000;
        }
        document.getElementById("boxinhalt").innerHTML = boxresult;
        boxinhalt();
        setTimeout(hideboxinhalt, 1000);
        }
      }

    function boxinhalt(){
     var shopuebersicht = document.getElementById("shopuebersicht");
     var lootbox = document.getElementById("openbox");
     shopuebersicht.style.display="none";
     lootbox.style.display="block";

    }

    function hideboxinhalt(){
     var shopuebersicht = document.getElementById("shopuebersicht");
     var lootbox = document.getElementById("openbox");
     shopuebersicht.style.display="block";
     lootbox.style.display="none";

    }

    function lapisUmwandeln(){
      
      if (lapis>=1000) {
        zwischenSpeicher=lapis/100;
        zwischenSpeicher= Math.floor(zwischenSpeicher);
        zwischenSpeicher2 = zwischenSpeicher/10;
        lapisString=""+ zwischenSpeicher2 + "k";

          if(lapis>=1000000) {
          zwischenSpeicher=lapis/100000
          zwischenSpeicher= Math.floor(zwischenSpeicher);
        zwischenSpeicher2 = zwischenSpeicher/10;
        lapisString=""+ zwischenSpeicher2 + "m";
          }
      }else{
        lapisString=lapis;
      }
      document.getElementById("lapis").innerHTML = lapisString;
    }

    function zahlUmwandeln(zahl){
      
      if (zahl>=1000) {
        zwischenSpeicher=zahl/100;
        zwischenSpeicher= Math.floor(zwischenSpeicher);
        zwischenSpeicher2 = zwischenSpeicher/10;
        zahlString=""+ zwischenSpeicher2 + "k";

          if(zahl>=1000000) {
          zwischenSpeicher=zahl/100000
          zwischenSpeicher= Math.floor(zwischenSpeicher);
        zwischenSpeicher2 = zwischenSpeicher/10;
        zahlString=""+ zwischenSpeicher2 + "m";
          }
      }else{
        zahlString=zahl;
      }
      return zahlString;
    }
    </script>
    
    
</body>
</html>
