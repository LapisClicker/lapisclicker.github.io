<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lapis-Clicker</title>
    <link rel="icon" href="LapisLazuli.png"> 
    <link rel="stylesheet" href="style2.css">
</head>
<script>
    
    function myFunction() {
        var lapis = 0;
        var wahrscheinlichkeit = 0;
        var wahrDouble= 0;
        document.getElementById("pickaxepreis").innerHTML= "100 Lapis";
        document.getElementById("dripperpreis").innerHTML= "500 Lapis"; 
        
        
    document.getElementById("lapis").innerHTML = lapis;
    }
    
</script>
<body onload="myFunction()">
    <div id="top">
        <div id="navigation">
            <a href=# onclick="showTool()">Click Tools</a>
            <a href=# onclick="showForge()">Forge</a>
            <a href=# onclick="showLapis()">Lapis</a>
            <a href=# onclick="showUpgrades()">Upgrades</a>
            <a href=# onclick="showShop()">Shop</a>
        </div>
    </div>
    
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<div id="mainPart">
<div id="Lapis">
<div id="image">
  <div id="anzeigeNormalesLapis">
    <a href=# onclick="doSomething()"><img src="LapisLazuli.png" alt="logo"></a>
  </div>

  <div id="anzeigeGoldLapis", style="display: none;">
    <a href=# onclick="doSomethingGold()"><img src="LapisGold.png" alt="logo"></a>
  </div>


    <h1>Dein Lapis: <span id="lapis"></span></h1>
    <button onclick="resetLapis()">reset</button>

<div class="kaufen">
    <button onclick="erstelleBoost()">boost</button>
</div>
</div>
</div>
</div>
</body>    
<div id="menu">
<div id="toolMenu", style="display: none;">
    <div class="tooltip">
    <ul>Pickaxe 
    <span class="tooltiptext">-Generiere pro click 10 Lapis</span>
    </div>
    <a href=# onclick="choosePickaxe()"><span id="pickaxepreis"></span></a><br></ul>

    <div class="tooltip">
        <ul>Dripper 
        <span class="tooltiptext">-Generiere pro click 15 Lapis<br>-5% chance auf Gold Lapis</span>
    </div>
        <a href=# onclick="chooseDripper()"><span id="dripperpreis"></span></a><br></ul>

        <div class="tooltip">
          <ul>Lapis Drill 
          <span class="tooltiptext">+Generiere pro click 15 Lapis<br>+5% chance auf Gold Lapis</span>
      </div>
          <a href=# onclick="choosePickaxe()">100 Lapis</a><br></ul>
    
    <ul>Piggy Axe</ul>
    <ul>Chrom Pickaxe</ul>
  </div>
  <div id="forge", style="display: none;">
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
  </div>
  <div id="upgradeMenu", style="display: none;">
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
  </div>
  <div id="shopMenu", style="display: none;">
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
    <ul>hallo</ul>
  </div>
</div>
   

    <script>
      //version 0.2
        var boost = 1;
        let lapis = 0;
        var lapisGold = 0;
        var doppelPreis = 100;
        var pickaxe = "hand";
        var goldChance = 0;
        var lapisString = "null";
        var zwischenSpeicher= 0;
        var pickaxestatus = false;
        var dripperstatus = false;
        var toolboost = 1;
        var kaufboost = 0;
        var vervielfältigungsboost = 1;


function berechneScore(){
  boost = (toolboost + kaufboost) * vervielfältigungsboost;
}

         function showTool() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (tool.style.display === "none") {
    tool.style.display = "block";
    forge.style.display = "none";
    lapis.style.display = "none";
    upgrades.style.display = "none";
    shop.style.display = "none";
  } 
}

function showForge() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (forge.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "block";
    lapis.style.display = "none";
    upgrades.style.display = "none";
    shop.style.display = "none";
  } 
}

function showLapis() {
  activTool();
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (lapis.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "none";
    lapis.style.display = "block";
    upgrades.style.display = "none";
    shop.style.display = "none";
    lapisUmwandeln();
  } 
}

function showUpgrades() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (upgrades.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "none";
    lapis.style.display = "none";
    upgrades.style.display = "block";
    shop.style.display = "none";
  } 
}

function showShop() {
  var tool = document.getElementById("toolMenu");
  var forge = document.getElementById("forge");
  var lapis = document.getElementById("Lapis");
  var upgrades = document.getElementById("upgradeMenu");
  var shop = document.getElementById("shopMenu");
  if (shop.style.display === "none") {
    tool.style.display = "none";
    forge.style.display = "none";
    lapis.style.display = "none";
    upgrades.style.display = "none";
    shop.style.display = "block";
    
  } 
}

    function doSomething(){
        berechneScore();
        lapis= lapis+boost;
        welchesLapis();
        lapisUmwandeln();
  
        
        
    }

    function doSomethingGold(){
        
        lapisGold= lapisGold+boost;
        var lapisAnzeige = document.getElementById("anzeigeNormalesLapis");
        var goldAnzeige = document.getElementById("anzeigeGoldLapis");
        lapisAnzeige.style.display="block";
        goldAnzeige.style.display="none";

        welchesLapis();
  
        lapisUmwandeln();
        
    }


    function resetLapis(){
        lapis=0;
        document.getElementById("lapis").innerHTML = lapis;
    }


    function erstelleBoost(){
        
        if(lapis>=100){
            lapis=lapis-100;
            kaufboost=kaufboost+1;
            lapisUmwandeln();
        }
    }

    function doubleBoost(){
        if(lapis>=doppelPreis){
            lapis=lapis-doppelPreis;
            boost=boost*2;
            doppelPreis=doppelPreis*3;
        }
        lapisUmwandeln();
        document.getElementById("doppelPreis").innerHTML = doppelPreis;
    }
    function choosePickaxe(){
      if(pickaxestatus==false){
        if(lapis>=100){
          if(pickaxe=="dripper"){
          document.getElementById("dripperpreis").innerHTML = "inaktiv";
        }
        lapis=lapis-100;
        pickaxe="pickaxe";
        document.getElementById("pickaxepreis").innerHTML = "aktiv";
        pickaxestatus=true;
        
        }
        }else{
          if(pickaxe=="dripper"){
          document.getElementById("dripperpreis").innerHTML = "inaktiv";
          }
          pickaxe="pickaxe";
          document.getElementById("pickaxepreis").innerHTML = "aktiv";  
      }
    }

        function chooseDripper(){
        if(dripperstatus==false){
          if(pickaxe=="dripper"){
          document.getElementById("dripperpreis").innerHTML = "inaktiv";
          }
        if(lapis>=500){
        lapis=lapis-500;
        pickaxe="pickaxe";
        document.getElementById("pickaxepreis").innerHTML = "aktiv";
        dripperstatus=true;
        }
        }else{
          if(pickaxe=="pickaxe"){
          document.getElementById("pickaxepreis").innerHTML = "inaktiv";
          }
          pickaxe="dripper";
          document.getElementById("dripperpreis").innerHTML = "aktiv";
        }    
        
    }
    function activTool(){
        if(pickaxe=="pickaxe"){
            toolboost=10;
            goldChance=0;
            
        }
        if(pickaxe=="dripper"){
            toolboost=15;
            goldChance=20; //100:20=5 deshalb 5%
        }
        lapisUmwandeln();
    }
    function newFun(){
        lapis=100000
        lapisUmwandeln();
    }
    function startPickaxe(){
        pickaxe=start;
    }

    

    function welchesLapis(){
      var aktuellesLapis = "lapis";
      
      wahrDouble = Math.random()*100;
      wahrscheinlichkeit= Math.floor(wahrDouble);
      if(wahrscheinlichkeit % goldChance ===0){
        //set aktuellesLapis
        var lapisAnzeige = document.getElementById("anzeigeNormalesLapis");
        var goldAnzeige = document.getElementById("anzeigeGoldLapis");
        lapisAnzeige.style.display="none";
        goldAnzeige.style.display="block";
      }
    }

    function lapisUmwandeln(){
      
      if (lapis>=1000) {
        zwischenSpeicher=lapis/100;
        zwischenSpeicher= Math.floor(zwischenSpeicher);
        zwischenSpeicher2 = zwischenSpeicher/10;
        lapisString=""+ zwischenSpeicher2 + "k";

          if(lapis>=1000000) {
          zwischenSpeicher=lapis/100000
          zwischenSpeicher= Math.floor(zwischenSpeicher);
        zwischenSpeicher2 = zwischenSpeicher/10;
        lapisString=""+ zwischenSpeicher2 + "m";
          }
      }else{
        lapisString=lapis;
      }
      document.getElementById("lapis").innerHTML = lapisString;
    }
    </script>
    
    
</body>
</html>
